<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firestore Teams Data Uploader</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            backdrop-filter: blur(10px);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: 700;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
            font-size: 14px;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #fafbfc;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .config-info {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .config-info h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .config-info p {
            color: #6c757d;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .config-info code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: 500;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status.info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #b3d7ff;
        }

        .progress {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        .data-preview {
            margin-top: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }

        .data-preview h4 {
            color: #495057;
            margin-bottom: 15px;
        }

        .team-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .team-item h5 {
            color: #333;
            margin-bottom: 8px;
        }

        .team-item p {
            color: #666;
            font-size: 14px;
            margin: 4px 0;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ« Firestore Teams Data Uploader</h1>
        
        <div class="config-info">
            <h3>Firebase ì„¤ì • ì •ë³´</h3>
            <p>Firebase ì½˜ì†”ì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ ì…ë ¥í•´ì£¼ì„¸ìš”:</p>
            <p>1. í”„ë¡œì íŠ¸ ì„¤ì • â†’ ì¼ë°˜ â†’ ì›¹ ì•±ì—ì„œ <code>apiKey</code>, <code>projectId</code> ë“± í™•ì¸</p>
            <p>2. Firestore Databaseê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</p>
            <p>3. ë³´ì•ˆ ê·œì¹™ì´ ì“°ê¸°ë¥¼ í—ˆìš©í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</p>
        </div>

        <form id="configForm">
            <div class="form-group">
                <label for="apiKey">API Key</label>
                <input type="text" id="apiKey" required placeholder="AIzaSyC...">
            </div>
            
            <div class="form-group">
                <label for="authDomain">Auth Domain</label>
                <input type="text" id="authDomain" required placeholder="your-project.firebaseapp.com">
            </div>
            
            <div class="form-group">
                <label for="projectId">Project ID</label>
                <input type="text" id="projectId" required placeholder="your-project-id">
            </div>
            
            <div class="form-group">
                <label for="storageBucket">Storage Bucket</label>
                <input type="text" id="storageBucket" required placeholder="your-project.appspot.com">
            </div>
            
            <div class="form-group">
                <label for="messagingSenderId">Messaging Sender ID</label>
                <input type="text" id="messagingSenderId" required placeholder="123456789">
            </div>
            
            <div class="form-group">
                <label for="appId">App ID</label>
                <input type="text" id="appId" required placeholder="1:123456789:web:abcdef">
            </div>

            <button type="submit">ë°ì´í„° ì—…ë¡œë“œ ì‹œì‘</button>
        </form>

        <div id="status" class="status hidden"></div>
        <div id="progress" class="progress hidden">
            <div id="progressBar" class="progress-bar"></div>
        </div>

        <div id="dataPreview" class="data-preview hidden">
            <h4>ì—…ë¡œë“œí•  ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°</h4>
            <div id="previewContent"></div>
        </div>
    </div>

    <script type="module">
        // Firebase SDK ì„í¬íŠ¸
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, doc, setDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // íŒ€ ë°ì´í„° ì •ì˜
        const teamsData = {
            'C101': {
                lineups: {
                    first: ['ê¹€ì„œì¤€', 'ê¹€ì„±ì°¬', 'ê¹€ì‹œìš°', 'ì „ìœ ì°¬', 'ì „ì¹˜ì›', 'ì°¨ì¬ë¯¼', 'í—ˆì¤€ëª…'],
                    second: ['ì†¡ì¤€í‘œ', 'ì¡°ì¬ìœ¤', 'ê¹€í˜„ì¬', 'ì†ì¤€í›„', 'ê¹€ë¯¼ì„±', 'ì„í•˜ê· ', 'ìµœì£¼ì›']
                }
            },
            'C102': {
                lineups: {
                    first: ['ë‚¨ë™ìœ¨', 'ì†Œê±´í˜¸', 'ì„ìœ ì„', 'ì „ì§€í›„', 'ìµœë¯¼ì¤€', 'ìµœì •ìš±'],
                    second: ['ë°•ê·œë¹ˆ', 'ì´ê¸°ì˜', 'ì •í•´ìˆ˜', 'ê¹€ë¯¼ì¤€', 'ìµœì§„í˜', 'ìœ ì¤€í¬', 'ì´ì¤€ê²½']
                }
            },
            'C103': {
                lineups: {
                    first: ['ê°•ì¤€ì„œ', 'ë°°ì„±í˜„', 'ì´ì¬ìœ¤', 'ì´ì£¼ì›', 'ì°¨ì£¼í—Œ', 'ìµœì •í™˜'],
                    second: ['ê¹€ìš”í•œ', 'ì¡°ìš°ì¤€', 'ì„ì§€í›ˆ', 'ë°•ì‹œì›', 'í™©ê·œí˜¸', 'ê¹€ì£¼í˜„']
                }
            },
            'C104': {
                lineups: {
                    first: ['ê¹€ë¯¼í™˜', 'ì–‘ì§€í˜¸', 'ì´ì›ì§„', 'ì´ìœ ê²¸', 'í•œí™˜í¬', 'í™©ê²½ë¯¼', 'ìµœì˜ˆì¤€'],
                    second: ['ì†Œí•˜ìœ¤', 'ë‚¨í˜„ì£¼', 'í™í˜„ìˆ˜', 'ê¹€ìœ¤ì¢…', 'ì¡°ìš°ì§„', 'í™©ì€ê²°']
                }
            },
            'C105': {
                lineups: {
                    first: ['ê¹€ë„ê²½', 'ê¹€ì •ì¤€', 'ë°•ì§€ìš°', 'ìœ í˜¸', 'ì´ì°¬í¬', 'ì£¼í˜„íƒœ', 'ìµœì´ë“ '],
                    second: ['ê¹€ì¬ì¤€', 'ì„í—Œì„œ', 'ë¯¼ì„ í˜¸', 'ì´ì¬ì›', 'ê°•êµ¬í˜¸', 'ê¹€ìˆ˜í˜„']
                }
            },
            'C106': {
                lineups: {
                    first: ['ê¹€ì˜ˆë¹ˆ', 'ë‚˜ì¢…ì›', 'ì†ì¬ìœ ', 'ì´ì¸í˜', 'ì´ì¬ì›', 'ì„íƒœìœ¤', 'ì§€ë²”ê·œ'],
                    second: ['ë°°ì„±ì¤€', 'ë°•ë¯¼ì„±', 'ìœ ìœ¤ì°¬', 'ê°•ë¯¼ì°¬', 'ì¥íƒœí¬', 'ì •í˜„', 'ì¥ì¬ì˜']
                }
            },
            'C201': {
                lineups: {
                    first: ['ê°€ìŠ¹í›ˆ', 'ê¹€ì¤€ìš°', 'ë°•ë¬´ê²°', 'ìœ¤ë•ë…•', 'ì¡°ì˜ìš°'],
                    second: ['ê¸ˆë‹´ì¸', 'ìµœë™ëª…', 'ìœ ì¤€ì„', 'ê¹€ì€í˜', 'ë°•ë²”ì¤€', 'ì •ì„±í›ˆ']
                }
            },
            'C202': {
                lineups: {
                    first: ['ê¹€ì˜ˆì¤€', 'ë¬¸íƒœí˜„', 'ì—¼ê·œí˜„', 'ì´ì°¬í˜', 'ì •ë„í˜„', 'ì¡°í˜•ì§„'],
                    second: ['ë‚¨í˜„ìš±', 'ì±„ë™ì™„', 'ì´ìŠ¹ì¬', 'ê¹€ìš°ë¦¼', 'ì¡°ì„±ìµ', 'ì´ì¬ì„±']
                }
            },
            'C203': {
                lineups: {
                    first: ['ê³½ì˜ˆì¤€', 'ë¬¸ìˆ˜ì°¬', 'ë°•ì¤€í˜•', 'ì—°ì‘ì£¼', 'ì „ë³‘ê±´', 'ì „ì§€í™˜', 'í™©ì¸ì² '],
                    second: ['ìœ ì¤€ìƒ', 'ê¶Œë¯¼ì¤€', 'ë°•ìœ ë¹ˆ', 'ì´ê±´ìš°', 'ì²œíƒœí•˜', 'í™©ì„±í˜„', 'ì´ì§€í›ˆ']
                }
            },
            'C204': {
                lineups: {
                    first: ['ê¹€ê±´ìš°', 'ê¹€ì •ì°¬', 'ì˜¤ë‹¤ë‹ˆì—˜', 'ì „í˜„ì„œ', 'ì •ì§€ì›', 'í—ˆí¬ì¬'],
                    second: ['ì´ì¤€í˜', 'ì •ê´€í˜¸', 'ê¹€íƒê²¸', 'ë¬¸ì§€í›ˆ', 'ìœ¤ì´ì•ˆ', 'ê¹€ë™í˜']
                }
            },
            'C205': {
                lineups: {
                    first: ['ê¹€í•˜ë¯¼', 'ë‚¨ê·œí˜„', 'ì˜¤ìœ¤í˜¸', 'ì¥ë¯¼ì„', 'ì •ë¯¼ìˆ˜', 'í™ì¼ê¶Œ'],
                    second: ['ì†¡ì›í˜', 'ê¹€ìœ¤ìš°', 'ì„œì—°ìš°', 'ì •ìš°ì§„', 'ì´ê±´ì˜', 'ì •ì¬í˜„']
                }
            },
            'C206': {
                lineups: {
                    first: ['ë…¸ë¯¼ì„', 'ìœ¡í•œìœ¨', 'ìœ¤ì°¬ì„œ', 'ì„ì´ì•ˆ', 'ì¡°ë¯¼ìƒ', 'ìµœì´ì¤€'],
                    second: ['ìœ¤ìˆ˜í›ˆ', 'ì¡°í•œê²°', 'ì›ì¢…í™˜', 'ì´ê²½ìˆ˜', 'ë…¸ìœ¤ì°¬', 'ìµœìœ¤ì„']
                }
            },
            'C207': {
                lineups: {
                    first: ['ê°•í˜•ìš±', 'ê¹€ë¯¼ê·œ', 'ë°•ê±´í›„', 'ë°•ë¯¼ì¤€', 'ì´ìœ¤ê±´', 'ì´ì§„í•œ', 'ì±„í˜„ìˆ˜'],
                    second: ['ë°•ì€ìš°', 'ì—°í•œê²°', 'ì´ì§€í™˜', 'êµ¬í•˜ê²°', 'ì¸ì„œìš°', 'ê¹€ì£¼í˜', 'í•˜ì§€í›„']
                }
            },
            'C301': {
                lineups: {
                    first: ['ê°•ì‹œìš°', 'ê¹€ì¤€ì˜', 'ë°•ì„í˜„', 'ë°•ì¢…ìœ¤', 'ì„ê²½ì„œ', 'ì„ì§€íš¨'],
                    second: ['ê¹€ë³´ì„±', 'ë°•ì¬í˜•', 'ê°•ìš°ì˜', 'ì¥ì—°ê·œ', 'ê¹€í•œì†”', 'ì˜¤ìŠ¹ë¹ˆ']
                }
            },
            'C302': {
                lineups: {
                    first: ['ê¹€ì„±ìš°', 'ë‚¨ì¼êµ­', 'ì„±ì¤€ìš©', 'ìœ¤í¬ìƒ', 'ì „ì„±ë¯¼', 'ì¡°ì¸ë¡'],
                    second: ['ì‹ ìœ¤ìˆ˜', 'ì •í˜œì¢…', 'ê¹€ì¬ì›', 'ê¹€í•œìš¸', 'ì‹ ì •ìš°', 'ìœ ì¬í˜„']
                }
            },
            'C303': {
                lineups: {
                    first: ['ë¯¼ì§€í™˜', 'ë°•ë„í˜„', 'ì´ì‹œì•ˆ', 'ì´ì¤€ì„±', 'ì£¼í•˜ìœ¨', 'í•˜ì§€í˜•'],
                    second: ['ì£¼í˜„ìš°', 'ê¹€ì¬í¬', 'ì•ˆìŠ¹ì§„', 'ì´ì •ìš°', 'ë¬¸ì¬í˜„', 'ì´ì¬ë¹ˆ']
                }
            },
            'C304': {
                lineups: {
                    first: ['ê¹€í˜„ëª©', 'ê¹€íš¨ì¬', 'ë°•ì£¼ìœ¤', 'ë³€ì§€ìˆ˜', 'ì†ì¬í˜¸', 'ì´ì¤€ìš°', 'ì£¼ì˜ì§„'],
                    second: ['ì •í˜„ë¹ˆ', 'ê¹€ìš°ì‹', 'ì´íƒœë¦¼', 'ì§€ìŠ¹í˜', 'í™ì„ ê¸°', 'ê¹€ê°•ë¯¼', 'ì„ë¯¼ìš°']
                }
            },
            'C305': {
                lineups: {
                    first: ['êµ¬ì§„ëª¨', 'ë¬¸ìš©ìˆ˜', 'ë°•ìˆ˜ì—´', 'ë°•ì¤€ê·œ', 'ì‹ ê²¸', 'ì´ì¶©ë¯¼'],
                    second: ['ì±„ì„œì§„', 'ì§€í˜„ìš°', 'ì¥íƒœì¸', 'ë°•ì¬í˜„', 'ë°•ì¤€ê· ', 'ì„ì§€ì¸', 'ìµœí˜¸í˜„']
                }
            },
            'C306': {
                lineups: {
                    first: ['ê¹€ì£¼í˜¸', 'ë°•ë²”ì£¼', 'ë°•ì¤€ì„±', 'ë°°ì˜ë¯¼', 'ìœ ì¢…ì—°', 'ì „ìƒí˜„'],
                    second: ['ì„ì°¬í¬', 'ìµœë‹¤ë¯¼', 'ì´ì˜ˆì¤€', 'ì •ì±„ìš´', 'ìœ¤ë‘í˜„', 'ì°¨ë¯¼ê·œ']
                }
            },
            'C307': {
                lineups: {
                    first: ['ê¹€ì§€ì†”', 'ë°•ì¬í˜„', 'ë°±ì¸ì¤€', 'ë³€í•˜ìœ¨', 'ì´ë¯¼ì„', 'ì¡°í•­ì„ '],
                    second: ['ìµœë•ìƒ', 'ì´ì¬ìƒ', 'ì •ë˜ì¸', 'ê¹€ìŠ¹ë¥ ', 'ì´ê°•ë¯¼', 'ì•ˆì •ê¸°']
                }
            }
        };

        let db = null;

        // DOM ìš”ì†Œë“¤
        const configForm = document.getElementById('configForm');
        const statusDiv = document.getElementById('status');
        const progressDiv = document.getElementById('progress');
        const progressBar = document.getElementById('progressBar');
        const dataPreviewDiv = document.getElementById('dataPreview');
        const previewContent = document.getElementById('previewContent');

        // ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
        function showStatus(message, type = 'info') {
            statusDiv.textContent = message;
            statusDiv.className = `status ${type}`;
            statusDiv.classList.remove('hidden');
        }

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress(current, total) {
            const percentage = (current / total) * 100;
            progressBar.style.width = `${percentage}%`;
            progressDiv.classList.remove('hidden');
        }

        // ë°ì´í„° ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        function showDataPreview() {
            const teamIds = Object.keys(teamsData);
            previewContent.innerHTML = '';
            
            teamIds.slice(0, 3).forEach(teamId => {
                const team = teamsData[teamId];
                const teamDiv = document.createElement('div');
                teamDiv.className = 'team-item';
                teamDiv.innerHTML = `
                    <h5>${teamId}</h5>
                    <p><strong>1í•™ë…„:</strong> ${team.lineups.first.join(', ')}</p>
                    <p><strong>2í•™ë…„:</strong> ${team.lineups.second.join(', ')}</p>
                `;
                previewContent.appendChild(teamDiv);
            });

            if (teamIds.length > 3) {
                const moreDiv = document.createElement('div');
                moreDiv.className = 'team-item';
                moreDiv.innerHTML = `<p>... ê·¸ ì™¸ ${teamIds.length - 3}ê°œ íŒ€ ë”</p>`;
                previewContent.appendChild(moreDiv);
            }

            dataPreviewDiv.classList.remove('hidden');
        }

        // Firebase ì´ˆê¸°í™” ë° ë°ì´í„° ì—…ë¡œë“œ
        configForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const config = {
                apiKey: document.getElementById('apiKey').value.trim(),
                authDomain: document.getElementById('authDomain').value.trim(),
                projectId: document.getElementById('projectId').value.trim(),
                storageBucket: document.getElementById('storageBucket').value.trim(),
                messagingSenderId: document.getElementById('messagingSenderId').value.trim(),
                appId: document.getElementById('appId').value.trim()
            };

            try {
                showStatus('Firebase ì´ˆê¸°í™” ì¤‘...', 'info');
                
                // Firebase ì•± ì´ˆê¸°í™”
                const app = initializeApp(config);
                db = getFirestore(app);
                
                showStatus('Firebase ì—°ê²° ì„±ê³µ! ë°ì´í„° ì—…ë¡œë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.', 'info');
                showDataPreview();
                
                // ë°ì´í„° ì—…ë¡œë“œ
                const teamIds = Object.keys(teamsData);
                let uploadedCount = 0;
                
                for (const teamId of teamIds) {
                    const teamData = teamsData[teamId];
                    
                    try {
                        const teamRef = doc(db, 'teams', teamId);
                        await setDoc(teamRef, teamData);
                        
                        uploadedCount++;
                        updateProgress(uploadedCount, teamIds.length);
                        showStatus(`ì—…ë¡œë“œ ì¤‘... (${uploadedCount}/${teamIds.length}) - ${teamId} ì™„ë£Œ`, 'info');
                        
                        // ìš”ì²­ ì œí•œì„ í”¼í•˜ê¸° ìœ„í•´ ì ì‹œ ëŒ€ê¸°
                        await new Promise(resolve => setTimeout(resolve, 100));
                        
                    } catch (error) {
                        console.error(`${teamId} ì—…ë¡œë“œ ì‹¤íŒ¨:`, error);
                        showStatus(`${teamId} ì—…ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                        return;
                    }
                }
                
                showStatus(`âœ… ëª¨ë“  ë°ì´í„° ì—…ë¡œë“œ ì™„ë£Œ! (${teamIds.length}ê°œ íŒ€)`, 'success');
                
            } catch (error) {
                console.error('Firebase ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
                showStatus(`âŒ Firebase ì—°ê²° ì‹¤íŒ¨: ${error.message}`, 'error');
            }
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        showDataPreview();
    </script>
</body>
</html>