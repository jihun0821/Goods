<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내 구매목록 - MIXX HANIL MARKET</title>
    <link rel="icon" href="images/favicon.png"/> 
    <link rel="stylesheet" href="styles.css">
    
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
      import { getAuth, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
      import { getFirestore, collection, getDocs, query, where, orderBy, doc, deleteDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

      // 필요한 함수들을 window.firebase에 노출 (기존 코드와 호환되게)
      window.firebase = {
        initializeApp,
        getAuth,
        signOut,
        onAuthStateChanged,
        getFirestore,
        collection,
        getDocs,
        query,
        where,
        orderBy,
        doc,
        deleteDoc
      };
    </script>
</head>
<body>
    <!-- 메뉴 버튼 -->
    <div class="menu-button" onclick="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- 오버레이 -->
    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

    <!-- 사이드바 -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-section">
            <img src="images/logo.png" alt="믹스한일마켓 로고" style="max-width: 160px; height: auto; display: block; margin: 0 auto 12px auto;">
            <div class="login-box" onclick="location.href='index.html'">메인으로</div>
            <div class="login-box" id="loginButton" onclick="logout()">LOGOUT</div>
        </div>
        
        <div class="sidebar-section">
            <h2>회원 정보</h2>
            <ul class="option-list">
                <li id="userInfo">- 로그인이 필요합니다</li>
                <li style="cursor: pointer; background-color: #f0f0f0;" onclick="location.href='list.html'">- 내 구매목록</li>
                <li>- 사이트 설명</li>
            </ul>
        </div>
    </div>

    <!-- 메인 컨텐츠 -->
    <div class="main-content">
        <!-- 카드 섹션 -->
        <div class="cards-section">
            <h1 style="text-align: center; font-size: 36px; margin-bottom: 30px; font-weight: normal;">내 구매목록</h1>
            <div class="cards-container" id="purchasesContainer">
                <!-- 구매 카드들이 동적으로 추가됩니다 -->
            </div>
        </div>
    </div>

    <!-- 외부 스크립트 불러오기 -->
    <script src="purchases.js" defer></script>
</body>
</html>
